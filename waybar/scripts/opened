#!/bin/bash

# Mapping of window class to emoji icons
declare -A ICONS=(
  ["firefox"]="ğŸ¦Š"
  ["thunar"]="ğŸ“"
  ["alacritty"]="ğŸ–¥ï¸"
  ["code"]="ğŸ“"
  ["discord"]="ğŸ’¬"
  ["spotify"]="ğŸµ"
)

output=""

# Get client classes
clients=$(hyprctl clients -j | jq -r '.[].class')

# Remove duplicates
clients=$(echo "$clients" | sort -u)

for app in $clients; do
  lower_app=$(echo "$app" | tr '[:upper:]' '[:lower:]')
  icon=${ICONS[$lower_app]:-"â”"}
  output+="$icon "
done

# Final output
echo "{\"text\": \"${output::-1}\"}" # Remove trailing space

